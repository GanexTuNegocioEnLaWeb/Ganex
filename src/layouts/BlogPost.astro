---
// Supports weights 100-900
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/UI/header/BaseHead.astro';
import Header from '../components/UI/header/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Background from '@/components/UI/Background.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage, author } = Astro.props;
---

<html lang="es">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body class="container-custom">
		<Background />
		<Header />
		<main>
			<section class="pt-10">
				<h1 class="font-bold text-3xl sm:text-4xl md:text-5xl lg:text-6xl">{title}</h1>
				<article class="flex gap-8 flex-wrap my-5">
					<p>Publicado el: <span class="font-medium"><FormattedDate date={pubDate} /></span></p>
					{updatedDate && <p>Acutalizado el: <span class="font-medium"><FormattedDate date={updatedDate} /></span></p>}
					<p>Autor: <span class="font-medium">{author}</span></p>
				</article>
				{heroImage && <img width={1020} height={510} class="rounded-md shadow-md w-full object-cover max-h-[30rem]" src={heroImage} alt="" />}
			</section>

			<section class="py-5 flex justify-between flex-wrap gap-5">
				<article class="max-w-5xl content-post w-full">
					<slot />
				</article>
				<article>
					<div class="sticky top-5">
						<h4 class="text-title-2">Categorias del blog</h4>
						<ul class="-text-body-0 text-orange-500 py-4 space-y-2">
							{
								[...new Set(Astro.props.tags)].map((tag) => (
									<li>
										<a href={`/tags/${tag}`}>{tag}</a>
									</li>
								))
							}
						</ul>
					</div>
				</article>
			</section>
		</main>
		<Footer />
	</body>
</html>
